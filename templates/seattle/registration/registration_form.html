{% extends "registration/login_or_register.html" %}
{% load i18n %}

{% block title %}{% trans "Sign up" %}{% endblock %}
{% block onready %}{% endblock %}
{% block body_load %}{% endblock %}
{% block form %}

{% with SITE_ROOT|add:"/accounts/profile/" as next_page %}
<form id="form1" {% if form.is_multipart %}enctype="multipart/form-data"{% endif %} name="form1" method="post" action="?next={{ next|default:next_page }}" class="well form-horizontal">
{% endwith %}
    <fieldset>
      <div class="control-group {% if form.username.errors %}error{% endif %}">
	<label class="required control-label"> {% trans "Username" %}
	</label>
	<div class="controls">
	  <input type="text" id="username" class="required" onchange="check_username(this.value)" name="username" maxlength="30" />
          {% if form.username.errors %}
          {% for error in form.username.errors %}
          <span class="help-inline">{{ error }}</span>
          {% endfor %}
          {% else %}
          <span class="help-inline">Create your username</span>
          {% endif %}
	  
	  <span class="notice" id="taken"></span>
	</div>
      </div>

      <div class="control-group">
	<label class="control-label">I am a returning user
	</label>
	<div class="controls">
	  <input type="radio" id="account_status" onclick="check(this.value)" value="login" class="radio" />
          <span class="help-inline"></span>    
	</div>
      </div>
      
      <div class="control-group">
	<label class="control-label">I need an account
	</label>
	<div class="controls">
	  <input type="radio" id="account_status" onclick="check(this.value)" checked="checked" value="register" class="radio" />
          <span id="help-inline"></span>
	</div>
      </div>

      <div class="control-group {% if form.password1.errors %}error{% endif %}">    
	<label class="required control-label">{% trans "Password" %}
	</label>
	<div class="controls">
	  {{ form.password1 }}
          {% if form.password1.errors %}
          {% for error in form.password1.errors %}
          <span class="help-inline">{{ error }}</span>
          {% endfor %}
          {% else %}
	  <span class="help-inline">Minimum size 6 chars</span>
          {% endif %}
	</div>
    </div>
	
    <div class="control-group {% if form.password2.errors %}error{% endif %}" >
      <label class="required control-label" >Password
    </label>
      <div class="controls">
	{{ form.password2 }}
        {% if form.password2.errors %}
             {% for error in form.password2.errors %}
                 <span class="help-inline">{{ error }}</span>
             {% endfor %}
        {% else %}
        <span class="help-inline">Verify password</span>
        {% endif %}
      </div>
    </div>
	
    <div class="control-group {% if form.email.errors %}error{% endif %}">
      <label class="required control-label" >{% trans "Email address" %}
      </label>
      <div class="controls">
	{{ form.email }}
        {% if form.email.errors %}
             {% for error in form.email.errors %}
                 <span class="help-inline">{{ error }}</span>
             {% endfor %}
        {% else %}
		 <span class="help-inline">We'll keep this private</span>
        {% endif %}
      </div>
    </div>
    </fieldset>

    <h2>Just a few more questions...</h2>

    <div class="control-group {% if form.first_name.errors %}error{% endif %}">
      <label class="control-label">{% trans "First name" %}
      </label>
      <div class="controls">
	{{ form.first_name }}
	{% if form.first_name.errors %}
        {% for error in form.first_name.errors %}
	<span class="help-inline">{{ error }}</span>
	{% endfor %}
	{% else %}
	<span class="help-inline">We'll keep this private</span>
	{% endif %}
      </div>
    </div>

    <div class="control-group {% if form.last_name.errors %}error{% endif %}">
      <label class="control-label">{% trans "Last name" %}
      </label>
      <div class="controls">
	{{ form.last_name }}
        {% if form.last_name.errors %}
             {% for error in form.last_name.errors %}
                 <span class="help-inline">{{ error }}</span>
             {% endfor %}
        {% else %}
        <span class="help-inline">We'll keep this private</span>
        {% endif %}
      </div>
    </div>
    
    <div class="control-group {% if form.zip_code.errors %}error{% endif %}">
      <label class="control-label" >Zip code
      </label>
      <div class="controls">
	{{ form.zip_code }}
        {% if form.zip_code.errors %}
        {% for error in form.zip_code.errors %}
        <span class="help-inline">{{ error }}</span>
        {% endfor %}
        {% else %}
        <span class="help-inline">We'll keep this private</span>
        {% endif %}
      </div>
    </div>

    <div class="control-group {% if form.photo.errors %}error{% endif %}">
      <label class= "control-label">Profile photo
      </label>
      <div class="controls">
  	{{ form.photo }}
        {% if form.photo.errors %}
             {% for error in form.photo.errors %}
                 <span class="help-inline">{{ error }}</span>
             {% endfor %}
        {% else %}
        <span class="help-inline">This is displayed in your profile</span>
        {% endif %}
      </div>
    </div>
	
    <div class="control-group {% if form.volunteer.errors %}error{% endif %}">
    <label class="control-label">Email me occasional updates
    </label>
    <div class="controls">
	{{ form.volunteer }}
        {% if form.volunteer.errors %}
        {% for error in form.volunteer.errors %}
        <span class="help-inline">{{ error }}</span>
        {% endfor %}
        {% else %}
        <span class="help-inline"></span>
        {% endif %}
    </div>
    </div>   

    {% comment %}
    <div class="control-group {% if form.tos.errors %}error{% endif %}">
    <label class="control-label">I accept the <a href="/terms">terms of service</a>
    </label>
    <div class="controls">
	{{ form.tos }}

        {% if form.tos.errors %}
             {% for error in form.tos.errors %}
                 <span class="help-inline">{{ error }}</span>
             {% endfor %}
        {% else %}
        <span class="help-inline"></span>
        {% endif %}
    </div>
    </div>

    {% endcomment %}
    <div class="form-actions">
      <button type="submit" class="btn btn-primary">Sign me up!</button>
    </div>

    <div class="spacer"></div>
    
</form>






{% endblock %}
